<template>
  <div>
    <div class="card-temp mt-100">
      <form @submit.prevent="signUp">
        <h3>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>

        <div class="form-group py-16">
          <el-input
            v-model="email"
            name="email"
            placeholder="E-mail –∞–¥—Ä–µ—Å"
            auto-complete
            required
            clearable
            type="email"
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
          ></el-input>
        </div>

        <div class="form-group py-16">
          <el-input
            v-model="password"
            name="password"
            placeholder="–ü–∞—Ä–æ–ª—å"
            required
            show-password
            type="password"
            pattern=".{8,}"
            title="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏–∑ 8 –∏–ª–∏ –±–æ–ª–µ–µ —Å–∏–º–≤–æ–ª–æ–≤"
          ></el-input>
        </div>

        <div class="form-group py-16">
          <el-input
            v-model="check_password"
            name="password"
            placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
            required
            show-password
            type="password"
            pattern=".{8,}"
            title="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏–∑ 8 –∏–ª–∏ –±–æ–ª–µ–µ —Å–∏–º–≤–æ–ª–æ–≤"
          ></el-input>
        </div>

        <div class="pt-10">
          <button
            class="el-button el-button--warning py-12 w-100"
            type="submit"
          >
            –°–æ–∑–¥–∞—Ç—å
          </button>
        </div>

        <div class="row d-flex justify-content-end px-0 mx-0">
          <p class="forgot-password mt-2 mb-4">
            –ò–º–µ–µ—Ç–µ –∞–∫–∫–∞—É–Ω—Ç ?
            <router-link to="/account/login" style="color: rgb(198, 85, 16);"
              >–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</router-link
            >
          </p>
        </div>
      </form>
    </div>
  </div>
</template>

<script>
import { auth } from "@/plugins/firebase";
export default {
  name: "login",
  data() {
    return {
      email: null,
      password: null,
      check_password: null
    };
  },
  mounted() {
    auth.useDeviceLanguage();
  },
  methods: {
    signUp() {
      if (this.check_password != this.password) {
        alert("–ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç");
      } else {
        auth
          .createUserWithEmailAndPassword(this.email, this.password)
          .then(data => {
            this.$router.push("/account/login");
          })
          .catch(error => alert("ü§ï" + error.message));
      }
    }
  }
};
</script>
